<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¾ç¡¬å¹£æ‹‹æ“²åˆ°é›†æˆå­¸ç¿’ (From Coins to Ensemble Learning)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #f8fafc;
        }
        .math-block {
            overflow-x: auto;
            padding: 1.5rem;
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 0.5rem;
            margin-bottom: 1rem;
        }
        .step-card {
            border-left: 4px solid #4f46e5;
            background-color: #fefefe;
            padding: 1rem;
            margin-bottom: 1rem;
            border-radius: 0 0.5rem 0.5rem 0;
            box-shadow: 0 1px 2px rgba(0,0,0,0.05);
        }
    </style>
</head>
<body class="text-slate-800">

    <!-- Navigation / Header -->
    <header class="bg-indigo-600 text-white p-6 shadow-lg">
        <div class="max-w-5xl mx-auto">
            <h1 class="text-3xl font-bold mb-2">å¤§æ•¸æ³•å‰‡èˆ‡é›†æˆå­¸ç¿’</h1>
            <p class="text-indigo-100 text-lg">ç‚ºä»€éº¼ 51% çš„å¾®å°å„ªå‹¢åœ¨ 10,000 æ¬¡å˜—è©¦å¾Œæœƒè®Šæˆ 97% çš„çµ•å°å‹ç®—ï¼Ÿ</p>
        </div>
    </header>

    <main class="max-w-5xl mx-auto p-6 space-y-12">

        <!-- Section 0: Problem Statement -->
        <section class="bg-white rounded-xl shadow-md p-6 border-l-4 border-indigo-500">
            <h2 class="text-2xl font-bold text-slate-800 mb-4">å•é¡Œæ•˜è¿°ï¼šæœ‰åå·®çš„ç¡¬å¹£</h2>
            <div class="prose max-w-none text-slate-600 leading-relaxed">
                <p class="mb-4">
                    æƒ³åƒä½ æœ‰ä¸€æšç¨å¾®ä¸å…¬å¹³çš„ç¡¬å¹£ã€‚å®ƒä¸¦ä¸æ˜¯å®Œç¾çš„ 50/50ï¼Œè€Œæ˜¯æœ‰ <b>51% çš„æ©Ÿç‡å‡ºç¾æ­£é¢ (Heads)</b>ï¼Œ49% çš„æ©Ÿç‡å‡ºç¾åé¢ (Tails)ã€‚
                </p>
                <p class="mb-4">
                    å¦‚æœä½ åªæ‹‹æ“²é€™æšç¡¬å¹£ <b>1 æ¬¡</b>ï¼Œä½ æ ¹æœ¬æ„Ÿè¦ºä¸åˆ°é€™å€‹å„ªå‹¢ï¼Œçµæœå¹¾ä¹æ˜¯éš¨æ©Ÿçš„ã€‚ä½†å¦‚æœä½ æ‹‹æ“² <b>10,000 æ¬¡</b>ï¼Œæ­£é¢ä½”å¤šæ•¸çš„æ©Ÿç‡å°‡æ”€å‡è‡³ <b>97% ä»¥ä¸Š</b>ã€‚é€™æ„å‘³è‘—ï¼Œåªè¦æ¨£æœ¬æ•¸è¶³å¤ å¤§ï¼Œä¸€å€‹å¾®ä¸è¶³é“çš„ 1% å„ªå‹¢å°±èƒ½è½‰åŒ–ç‚ºè¿‘ä¹ç¢ºå®šçš„å‹åˆ©ã€‚
                </p>
            </div>
        </section>

        <!-- Section 1: Interactive Simulator -->
        <section class="bg-white rounded-xl shadow-md p-6 border border-slate-200">
            <h2 class="text-2xl font-bold text-slate-800 mb-6 flex items-center">
                <span class="bg-indigo-100 text-indigo-600 py-1 px-3 rounded-lg mr-3 font-bold">1</span>
                äº’å‹•å¼æ¨¡æ“¬ (å¸¸æ…‹è¿‘ä¼¼æ³•)
            </h2>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <!-- Controls -->
                <div class="space-y-6">
                    <div>
                        <label class="block text-sm font-medium text-slate-700 mb-2">å–®æ¬¡æ‹‹æ“²/åˆ†é¡å™¨ å‹ç‡ (Probability \(p\))</label>
                        <input type="range" id="probInput" min="0.50" max="0.60" step="0.005" value="0.51" class="w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-indigo-600">
                        <div class="flex justify-between text-sm text-slate-500 mt-1">
                            <span>0.50 (å…¬å¹³)</span>
                            <span id="probValue" class="font-bold text-indigo-600 text-lg">0.51</span>
                            <span>0.60 (å¼·åå·®)</span>
                        </div>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-slate-700 mb-2">æ‹‹æ“²æ¬¡æ•¸/åˆ†é¡å™¨æ•¸é‡ (Number \(N\))</label>
                        <input type="range" id="nInput" min="10" max="20000" step="10" value="1000" class="w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-indigo-600">
                        <div class="flex justify-between text-sm text-slate-500 mt-1">
                            <span>10</span>
                            <span id="nValue" class="font-bold text-indigo-600 text-lg">1,000</span>
                            <span>20,000</span>
                        </div>
                    </div>

                    <div class="bg-indigo-50 p-4 rounded-lg border border-indigo-100 text-center">
                        <p class="text-sm text-indigo-800 uppercase font-semibold">è¨ˆç®—çµæœ (æœ€çµ‚ç²å¾—å¤šæ•¸çš„æ©Ÿç‡)</p>
                        <p id="resultDisplay" class="text-5xl font-bold text-indigo-600 mt-2">73.6%</p>
                        <p class="text-xs text-slate-500 mt-2">*åŸºæ–¼å¸¸æ…‹åˆ†ä½ˆè¿‘ä¼¼è¨ˆç®—</p>
                    </div>
                </div>

                <!-- Visualization -->
                <div class="relative h-64 md:h-auto bg-slate-50 rounded-lg p-2 border border-slate-100 flex items-center justify-center">
                    <canvas id="probabilityChart"></canvas>
                </div>
            </div>
        </section>

        <!-- Section 2: Complete Mathematical Derivation -->
        <section class="bg-white rounded-xl shadow-md p-8 border border-slate-200">
            <h2 class="text-2xl font-bold text-slate-800 mb-6 flex items-center">
                <span class="bg-emerald-100 text-emerald-600 py-1 px-3 rounded-lg mr-3 font-bold">2</span>
                å®Œæ•´æ•¸å­¸æ¨å° (å¾å‡è¨­åˆ°çµè«–)
            </h2>
            
            <div class="space-y-8 text-slate-700 leading-relaxed">
                
                <!-- Step 1: Assumptions -->
                <div>
                    <h3 class="text-lg font-bold text-slate-900 border-b pb-2 mb-4">1. å•é¡Œå®šç¾©èˆ‡åŸºæœ¬å‡è¨­</h3>
                    <div class="step-card">
                        <p class="mb-2"><strong>ç¬¦è™Ÿå®šç¾©ï¼š</strong></p>
                        <ul class="list-disc pl-5 mb-4 space-y-1">
                            <li>\( n \)ï¼šç¸½æ‹‹æ“²æ¬¡æ•¸ï¼ˆæ¨£æœ¬æ•¸ï¼‰ã€‚</li>
                            <li>\( X_i \)ï¼šç¬¬ \( i \) æ¬¡æ‹‹æ“²çš„çµæœï¼ˆä¼¯åŠªåˆ©è©¦é©—ï¼‰ã€‚\( X_i=1 \) (æ­£é¢/æˆåŠŸ)ï¼Œ\( X_i=0 \) (åé¢/å¤±æ•—)ã€‚</li>
                            <li>\( p \)ï¼šå–®æ¬¡å‡ºç¾æ­£é¢çš„æ©Ÿç‡ (æœ¬ä¾‹ç‚º 0.51)ã€‚</li>
                        </ul>
                        <p class="mb-2"><strong>é—œéµå‡è¨­ (I.I.D.)ï¼š</strong></p>
                        <ul class="list-disc pl-5 space-y-1 text-sm text-slate-600">
                            <li><strong>ç¨ç«‹æ€§ (Independence)ï¼š</strong> æ¯ä¸€æ¬¡æ‹‹æ“²äº’ä¸å½±éŸ¿ã€‚é€™æ˜¯é›†æˆå­¸ç¿’æœ‰æ•ˆçš„é—œéµã€‚</li>
                            <li><strong>åŒåˆ†ä½ˆ (Identical Distribution)ï¼š</strong> æ¯æ¬¡æ‹‹æ“²çš„æ©Ÿç‡ \( p \) éƒ½æ˜¯å›ºå®šçš„ã€‚</li>
                        </ul>
                    </div>
                </div>

                <!-- Step 2: Distribution -->
                <div>
                    <h3 class="text-lg font-bold text-slate-900 border-b pb-2 mb-4">2. ç¸½å’Œèˆ‡åˆ†ä½ˆ</h3>
                    <p class="mb-3">æˆ‘å€‘é—œå¿ƒçš„æ˜¯å‡ºç¾æ­£é¢çš„<strong>ç¸½æ¬¡æ•¸</strong> \( S_n \)ã€‚å®ƒæœå¾<strong>äºŒé …åˆ†ä½ˆ (Binomial Distribution)</strong>ï¼š</p>
                    <div class="math-block text-center text-lg">
                        $$ S_n = \sum_{i=1}^{n} X_i \sim B(n, p) $$
                    </div>
                    <p class="mb-2">è©²åˆ†ä½ˆçš„æœŸæœ›å€¼èˆ‡è®Šç•°æ•¸ç‚ºï¼š</p>
                    <ul class="list-disc pl-5 space-y-2">
                        <li><strong>æœŸæœ›å€¼ (Mean):</strong> \( \mu = n \cdot p \) <span class="text-sm text-gray-500">(è¨Šè™Ÿéš¨ \(n\) ç·šæ€§å¢é•·)</span></li>
                        <li><strong>æ¨™æº–å·® (Std Dev):</strong> \( \sigma = \sqrt{n \cdot p \cdot (1-p)} \) <span class="text-sm text-gray-500">(é›œè¨Šåƒ…éš¨ \(\sqrt{n}\) å¢é•·)</span></li>
                    </ul>
                </div>

                <!-- Step 3: CLT -->
                <div>
                    <h3 class="text-lg font-bold text-slate-900 border-b pb-2 mb-4">3. ä¸­å¤®æ¥µé™å®šç† (CLT) èˆ‡å¸¸æ…‹è¿‘ä¼¼</h3>
                    <p class="mb-3">ç•¶ \( n \) è¶³å¤ å¤§æ™‚ï¼ŒäºŒé …åˆ†ä½ˆå¯ä»¥è¢«<strong>å¸¸æ…‹åˆ†ä½ˆ</strong>è¿‘ä¼¼ï¼š</p>
                    <div class="math-block text-center text-lg">
                        $$ S_n \approx N(np, \ np(1-p)) $$
                    </div>
                    <p class="text-sm text-slate-500">é€™ä½¿æˆ‘å€‘èƒ½ä½¿ç”¨æ¨™æº–å¸¸æ…‹åˆ†ä½ˆè¡¨ (Z-Table) ä¾†è¨ˆç®—æ©Ÿç‡ï¼Œé¿å…äº†è¨ˆç®—æ•¸åƒé …éšä¹˜çš„ç¹ç‘£ã€‚</p>
                </div>

                <!-- Step 4: The Calculation -->
                <div>
                    <h3 class="text-lg font-bold text-slate-900 border-b pb-2 mb-4">4. è¨ˆç®—å¤šæ•¸æ±ºå‹ç‡ (ä»¥ n=10,000 ç‚ºä¾‹)</h3>
                    <p class="mb-3">æˆ‘å€‘çš„ç›®æ¨™æ˜¯æ±‚ã€Œæ­£é¢æ¬¡æ•¸è¶…éä¸€åŠã€çš„æ©Ÿç‡ï¼Œå³ \( P(S_n > 0.5n) \)ã€‚æˆ‘å€‘å…ˆè¨ˆç®— <strong>Z åˆ†æ•¸ (Z-Score)</strong>ï¼š</p>
                    
                    <div class="math-block">
                        $$ Z = \frac{\text{ç›®æ¨™å€¼} - \text{å¹³å‡å€¼}}{\text{æ¨™æº–å·®}} = \frac{0.5n - np}{\sqrt{np(1-p)}} = \sqrt{n} \cdot \frac{0.5 - p}{\sqrt{p(1-p)}} $$
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-6">
                        <div class="bg-slate-50 p-4 rounded border">
                            <h4 class="font-bold text-indigo-700 mb-2">æ¡ˆä¾‹ A: n = 1,000</h4>
                            <p class="text-sm mb-2">\( Z \approx \sqrt{1000} \cdot \frac{-0.01}{0.5} \approx -0.63 \)</p>
                            <p class="text-sm">æŸ¥è¡¨å¾— \( P(Z > -0.63) \approx \) <strong>73.6%</strong></p>
                        </div>
                        <div class="bg-slate-50 p-4 rounded border">
                            <h4 class="font-bold text-indigo-700 mb-2">æ¡ˆä¾‹ B: n = 10,000</h4>
                            <p class="text-sm mb-2">\( Z \approx \sqrt{10000} \cdot \frac{-0.01}{0.5} = 100 \cdot (-0.02) = -2.0 \)</p>
                            <p class="text-sm">æŸ¥è¡¨å¾— \( P(Z > -2.0) \approx \) <strong>97.7%</strong></p>
                        </div>
                    </div>
                </div>

                <!-- Conclusion -->
                <div class="bg-indigo-50 p-4 rounded border-l-4 border-indigo-600">
                    <h3 class="font-bold text-indigo-900 mb-2">æ•¸å­¸çµè«–</h3>
                    <p class="text-indigo-800">
                        Z åˆ†æ•¸å…¬å¼ä¸­çš„ \( \sqrt{n} \) ä¿‚æ•¸æ˜¯é—œéµã€‚éš¨è‘—æ¨£æœ¬æ•¸å¢åŠ ï¼Œåˆ†ä½ˆæ›²ç·šç›¸å°æ–¼å¹³å‡å€¼çš„å¯¬åº¦è®Šçª„ï¼Œå°è‡´æ•´å€‹æ›²ç·šè¿…é€Ÿç§»å‹•åˆ° 50% åˆ†ç•Œç·šçš„å³å´ï¼ˆå‹å´ï¼‰ã€‚
                    </p>
                </div>

            </div>
        </section>

        <!-- Section 3: Connection to Machine Learning -->
        <section class="bg-white rounded-xl shadow-md p-6 border border-slate-200">
            <h2 class="text-2xl font-bold text-slate-800 mb-6 flex items-center">
                <span class="bg-amber-100 text-amber-600 py-1 px-3 rounded-lg mr-3 font-bold">3</span>
                é›†æˆå­¸ç¿’ (Ensemble Learning) çš„æ‡‰ç”¨
            </h2>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div class="md:col-span-2 prose max-w-none text-slate-600">
                    <p class="mb-4">
                        é€™å€‹æ•¸å­¸æ¨å°ç›´æ¥è­‰æ˜äº†<b>å­”å¤šå¡é™ªå¯©åœ˜å®šç† (Condorcet's Jury Theorem)</b>ï¼Œä¹Ÿæ˜¯ç¾ä»£æ©Ÿå™¨å­¸ç¿’çš„æ ¸å¿ƒåŸç†ã€‚
                    </p>
                    
                    <h3 class="text-lg font-bold text-slate-800 mt-4">å¼±åˆ†é¡å™¨ vs. å¼·åˆ†é¡å™¨</h3>
                    <ul class="list-disc pl-5 space-y-2">
                        <li>
                            <b>å¼±åˆ†é¡å™¨ (Weak Learner):</b> å°±åƒé‚£æšæœ‰ 51% åå·®çš„ç¡¬å¹£ã€‚å–®çœ‹ä¸€å€‹æ±ºç­–æ¨¹æ¨ (Stump) æˆ–ç°¡å–®æ¨¡å‹ï¼Œå®ƒçš„æº–ç¢ºç‡åƒ…æ¯”éš¨æ©ŸçŒœæ¸¬å¥½ä¸€é»é»ã€‚
                        </li>
                        <li>
                            <b>å¼·åˆ†é¡å™¨ (Strong Learner):</b> é€šéé›†æˆå­¸ç¿’ï¼ˆå¦‚éš¨æ©Ÿæ£®æ—ï¼‰ï¼Œæˆ‘å€‘å½™ç¸½æˆåƒä¸Šè¬å€‹å¼±åˆ†é¡å™¨çš„æŠ•ç¥¨ã€‚åªè¦å®ƒå€‘æ»¿è¶³ <b>I.I.D. å‡è¨­</b>ï¼ˆå½¼æ­¤ç¨ç«‹ä¸”æº–ç¢ºç‡ > 0.5ï¼‰ï¼Œæœ€çµ‚æ¨¡å‹çš„éŒ¯èª¤ç‡å°±æœƒåƒæ•¸å­¸æ¨å°æ‰€ç¤ºï¼Œéš¨æ¨¡å‹æ•¸é‡å¢åŠ è€ŒæŒ‡æ•¸ç´šä¸‹é™ã€‚
                        </li>
                    </ul>
                </div>

                <div class="bg-amber-50 rounded-lg p-4 border border-amber-100 flex flex-col items-center justify-center text-center">
                    <div class="text-4xl mb-2">ğŸŒ³ â” ğŸŒ²</div>
                    <h4 class="font-bold text-amber-800">éš¨æ©Ÿæ£®æ— (Random Forest)</h4>
                    <p class="text-xs text-amber-700 mt-2">
                        åˆ©ç”¨ Bagging æŠ€è¡“å‰µé€ ç¨ç«‹æ€§ï¼Œè®“æ•¸å­¸ç¢ºä¿æœ€çµ‚çµæœçš„æº–ç¢ºæ€§ã€‚
                    </p>
                </div>
            </div>
        </section>

    </main>

    <footer class="text-center p-8 text-slate-400 text-sm">
        Generated by Gemini â€¢ Explaining the Law of Large Numbers
    </footer>

    <script>
        // --- Math Logic: Normal Approximation ---
        
        // Standard Normal CDF approximation
        function normalCDF(x) {
            var t = 1 / (1 + .2316419 * Math.abs(x));
            var d = .3989423 * Math.exp(-x * x / 2);
            var prob = d * t * (.3193815 + t * (-.3565638 + t * (1.781478 + t * (-1.821256 + t * 1.330274))));
            if (x > 0) prob = 1 - prob;
            return prob;
        }

        function calculateProbability(n, p) {
            // Mean
            const mu = n * p;
            // Standard Deviation
            const sigma = Math.sqrt(n * p * (1 - p));
            
            // We want probability of Heads > n/2
            // Using Continuity Correction: P(X > n/2) -> P(X >= n/2 + 0.5)
            // Z = (Target - Mean) / Sigma
            const target = n / 2;
            const z = (target - mu) / sigma;
            
            // We want the area to the RIGHT of the Z score (1 - CDF)
            return 1 - normalCDF(z);
        }

        // --- Visualization Logic (Chart.js) ---
        
        let chartInstance = null;

        function updateChart(currentN, currentP) {
            const ctx = document.getElementById('probabilityChart').getContext('2d');
            
            // Generate data points for the curve
            const labels = [10, 100, 500, 1000, 2000, 5000, 10000, 15000, 20000];
            const dataPoints = labels.map(n => calculateProbability(n, currentP) * 100);

            if (chartInstance) {
                chartInstance.destroy();
            }

            chartInstance = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: `å‹ç‡è¶¨å‹¢ (p=${currentP})`,
                        data: dataPoints,
                        borderColor: '#4f46e5', // Indigo 600
                        backgroundColor: 'rgba(79, 70, 229, 0.1)',
                        borderWidth: 3,
                        pointRadius: 4,
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return `å‹ç‡: ${context.parsed.y.toFixed(2)}%`;
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            min: 40,
                            max: 100,
                            title: { display: true, text: 'ç²å¾—å¤šæ•¸çš„æ©Ÿç‡ (%)' }
                        },
                        x: {
                            title: { display: true, text: 'æ‹‹æ“²æ¬¡æ•¸ (N)' }
                        }
                    }
                }
            });
        }

        // --- DOM Handling ---

        const probInput = document.getElementById('probInput');
        const probValue = document.getElementById('probValue');
        const nInput = document.getElementById('nInput');
        const nValue = document.getElementById('nValue');
        const resultDisplay = document.getElementById('resultDisplay');

        function updateAll() {
            const p = parseFloat(probInput.value);
            const n = parseInt(nInput.value);

            // Update text displays
            probValue.textContent = p.toFixed(3);
            nValue.textContent = n.toLocaleString();

            // Calculate main result
            const probability = calculateProbability(n, p);
            const percent = (probability * 100).toFixed(2);
            resultDisplay.textContent = percent + "%";

            // Update Chart
            updateChart(n, p);
        }

        // Event Listeners
        probInput.addEventListener('input', updateAll);
        nInput.addEventListener('input', updateAll);

        // Initial Load
        updateAll();

    </script>
</body>
</html>